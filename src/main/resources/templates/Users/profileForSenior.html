
<!DOCTYPE html>
<html  lang="en"  xmlns:th="http://www.thymeleaf.org"
       xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <th:block th:include="fragments/header :: header ('Profile')"/>

</head>
<body>
<th:block th:replace="fragments/navbar :: navbar"/>
<div class="container">
            <div class="card">
                <div class="card-content">
                    <img id="person" th:src="${user.photo}"/>
                    <div class="center-align">
                    <h3><span th:text="${user.username}"></span></h3>
                        <h6><span style="color:darkgrey" th:text="${user.email}"></span></h6>
                        <br/>
                        <th:block th:if="${userSesh.id == user.id}">
                            <form th:action="@{'/profile/' + ${user.id} + '/edit'}" th:method="GET" th:object="${user}">
                                <input style="float: right" type="submit" value="Edit" class="btn btn-medium"/>
                            </form>
                        </th:block>
                        <br/>
                    </div>
                </div>
                <div class="card-tabs">
                    <ul class="tabs tabs-fixed-width">
                        <li class="tab teal darken-1"><a href="#request">Recent Request</a></li>
                        <li class="tab teal darken-1"><a href="#history">History</a></li>
                    </ul>
                </div>
                    <div class="active" id="request">
                            <div class="row">
                                <h4 class="col s6">Assistance</h4>
                                <h4 class="col s6">Delivery</h4>
                            </div>
                        <div class="row">
                            <div class="col s6 m6">
                            <th:block th:each="post : ${posts}" th:if="${post.isComplete()} == false">
                                <div th:if="${post.category}== 'Assistance'">
                                    <p th:text="${post.title}"></p>
                                    <p th:text="${post.date}"></p>
                                    <p th:text="${post.location}"></p>
                                </div>
                            </th:block>
                            </div>
                            <div class="col s6 m6">
                                <th:block th:each="post : ${posts}" th:if="${post.isComplete()} == false">
                                    <div th:if="${post.category}== 'Delivery'">
                                        <p th:text="${post.title}"></p>
                                        <p th:text="${post.date}"></p>
                                        <p th:text="${post.location}"></p>
                                    </div>
                                </th:block>
                            </div>
                        </div>
                    </div>
                    <div class="active" id="history">

                        <div th:each="post : ${posts}" th:if="${post.isComplete()} == true">
                            <p th:text="${post.title}"></p>
                            <p th:text="${post.date}"></p>
                            <p th:text="${post.location}"></p>
                        </div>

                    </div>
                </div>
            </div>
<!--</div>-->



<!--        <button><a th:href="@{/review/{id}(id=user.id)}"></a>Leave a Review</button>-->




<footer th:include="fragments/footer"></footer>

<th:block th:replace="fragments/scripts"/>

<script src="/js/profile.js"></script>
</body>
</html>